if test $# -eq 0 ; then
  echo "Num of container:"
  read NUM
else
  NUM=$1
fi
NAME="hogeN"
IP="192.168.0.N"
FILE=`cat ./Idx`

for i in `seq 1 $NUM`
do
  Idx=`expr $FILE + $i`
  #echo "docker run -itd --name ${NAME/N/$Idx} --net=shared_nw --ip=${IP/N/$Idx} -p 22 dhrp/sshd /usr/sbin/sshd -D > /dev/null"
  docker run -itd --name ${NAME/N/$Idx} --net=shared_nw --ip=${IP/N/$Idx} -p 22 dhrp/sshd /usr/sbin/sshd -D > /dev/null
  echo ${IP/N/$Idx}
  echo $Idx > ./Idx
  expect -c"
  spawn docker exec -it ${NAME/N/$Idx} passwd
  expect \"Enter new UNIX password:\"
  send -- \"root\n\"
  expect \"Retype new UNIX password:\"
  send -- \"root\n\"
  expect \"passwd: password updated successfully\"
  send -- \"exit\n\"
  " > /dev/null
done
